{"objects":{"None":{},"Screen":{"Screen":{"elementId":"game-canvas","width":1200,"height":800,"currentScene":"Scene::Main Scene","__engine_data":{}}},"Scene":{"Main Scene":{"locked":false,"parent":"Screen::Screen","__engine_data":{}}},"Tileset":{"Dungeon Tiles":{"path":"https://gameify.vercel.app/sample/tilesheet.png","twidth":64,"theight":64,"collisionShapes":[{"x":0,"y":8,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":22}},{"x":1,"y":6,"shape":{"type":"Rectangle","position":{"x":14,"y":5},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":36,"y":54}}},{"x":1,"y":7,"shape":{"type":"Rectangle","position":{"x":14,"y":5},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":36,"y":54}}},{"x":2,"y":0,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":0,"y":1},{"x":64,"y":0},{"x":64,"y":24},{"x":24,"y":24},{"x":24,"y":64},{"x":0,"y":64}]}},{"x":2,"y":1,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":39,"y":2},{"x":64,"y":0},{"x":64,"y":24},{"x":42,"y":27},{"x":27,"y":41},{"x":24,"y":64},{"x":0,"y":64},{"x":2,"y":39},{"x":15,"y":15}]}},{"x":2,"y":2,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":53,"y":0},{"x":64,"y":0},{"x":64,"y":23},{"x":24,"y":64},{"x":0,"y":64},{"x":0,"y":52}]}},{"x":2,"y":3,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":28,"y":0},{"x":64,"y":0},{"x":64,"y":24},{"x":24,"y":23},{"x":24,"y":64},{"x":0,"y":64},{"x":0,"y":25},{"x":10,"y":6}]}},{"x":2,"y":4,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":0,"y":0},{"x":24,"y":0},{"x":17,"y":16},{"x":0,"y":25}]}},{"x":2,"y":5,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":0,"y":0},{"x":24,"y":0},{"x":17,"y":16},{"x":0,"y":25}]}},{"x":2,"y":6,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":2,"y":7,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":2,"y":8,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":22}},{"x":3,"y":0,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":3,"y":1,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":34,"y":24}}},{"x":3,"y":2,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":3,"y":3,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":3,"y":4,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":29}}},{"x":3,"y":6,"shape":{"type":"Rectangle","position":{"x":10,"y":10},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":44,"y":44}}},{"x":3,"y":7,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":22}},{"x":4,"y":0,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":4,"y":3,"shape":{"type":"Rectangle","position":{"x":15,"y":15},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":34,"y":34}}},{"x":4,"y":4,"shape":{"type":"Rectangle","position":{"x":7,"y":11},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":50,"y":39}}},{"x":4,"y":5,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":15}},{"x":4,"y":7,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":31}},{"x":4,"y":8,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":22}},{"x":5,"y":0,"shape":{"type":"Rectangle","position":{"x":15,"y":15},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":34,"y":34}}},{"x":5,"y":1,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":17}},{"x":5,"y":2,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":46,"y":6},{"x":59,"y":20},{"x":39,"y":44},{"x":24,"y":56},{"x":7,"y":32}]}},{"x":5,"y":3,"shape":{"type":"Rectangle","position":{"x":4,"y":17},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":57,"y":30}}},{"x":5,"y":4,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":64,"y":20},{"x":64,"y":43},{"x":46,"y":47},{"x":43,"y":64},{"x":20,"y":64},{"x":34,"y":30}]}},{"x":5,"y":5,"shape":{"type":"Rectangle","position":{"x":20,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":24,"y":64}}},{"x":6,"y":0,"shape":{"type":"Rectangle","position":{"x":0,"y":10},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":44}}},{"x":6,"y":1,"shape":{"type":"Rectangle","position":{"x":18,"y":16},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":29,"y":27}}},{"x":6,"y":2,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":38,"y":9},{"x":52,"y":19},{"x":24,"y":54},{"x":11,"y":33}]}},{"x":6,"y":3,"shape":{"type":"Rectangle","position":{"x":7,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":50,"y":64}}},{"x":6,"y":4,"shape":{"type":"Rectangle","position":{"x":10,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":44,"y":64}}},{"x":6,"y":5,"shape":{"type":"Rectangle","position":{"x":10,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":44,"y":64}}},{"x":6,"y":8,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":22}},{"x":7,"y":1,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":64}}},{"x":8,"y":6,"shape":{"type":"Rectangle","position":{"x":14,"y":5},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":36,"y":54}}},{"x":8,"y":7,"shape":{"type":"Rectangle","position":{"x":14,"y":5},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":36,"y":54}}},{"x":9,"y":0,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":0,"y":1},{"x":64,"y":0},{"x":64,"y":24},{"x":24,"y":24},{"x":24,"y":64},{"x":0,"y":64}]}},{"x":9,"y":1,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":39,"y":2},{"x":64,"y":0},{"x":64,"y":24},{"x":42,"y":27},{"x":27,"y":41},{"x":24,"y":64},{"x":0,"y":64},{"x":2,"y":39},{"x":15,"y":15}]}},{"x":9,"y":2,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":53,"y":0},{"x":64,"y":0},{"x":64,"y":23},{"x":24,"y":64},{"x":0,"y":64},{"x":0,"y":52}]}},{"x":9,"y":3,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":28,"y":0},{"x":64,"y":0},{"x":64,"y":24},{"x":24,"y":23},{"x":24,"y":64},{"x":0,"y":64},{"x":0,"y":25},{"x":10,"y":6}]}},{"x":9,"y":4,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":0,"y":0},{"x":24,"y":0},{"x":17,"y":16},{"x":0,"y":25}]}},{"x":9,"y":5,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":0,"y":0},{"x":24,"y":0},{"x":17,"y":16},{"x":0,"y":25}]}},{"x":9,"y":6,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":9,"y":7,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":10,"y":0,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":10,"y":2,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":10,"y":3,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":10,"y":4,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":29}}},{"x":10,"y":6,"shape":{"type":"Rectangle","position":{"x":10,"y":10},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":44,"y":44}}},{"x":10,"y":7,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":22}},{"x":11,"y":0,"shape":{"type":"Rectangle","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":24}}},{"x":11,"y":3,"shape":{"type":"Rectangle","position":{"x":15,"y":15},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":34,"y":34}}},{"x":11,"y":4,"shape":{"type":"Rectangle","position":{"x":7,"y":11},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":50,"y":39}}},{"x":11,"y":5,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":15}},{"x":11,"y":7,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":31}},{"x":12,"y":0,"shape":{"type":"Rectangle","position":{"x":15,"y":15},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":34,"y":34}}},{"x":12,"y":1,"shape":{"type":"Circle","position":{"x":32,"y":32},"strokeColor":"#25ac","fillColor":"#58c3","radius":17}},{"x":12,"y":2,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":46,"y":6},{"x":59,"y":20},{"x":39,"y":44},{"x":24,"y":56},{"x":7,"y":32}]}},{"x":12,"y":3,"shape":{"type":"Rectangle","position":{"x":4,"y":17},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":57,"y":30}}},{"x":12,"y":4,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":64,"y":20},{"x":64,"y":43},{"x":46,"y":47},{"x":43,"y":64},{"x":20,"y":64},{"x":34,"y":30}]}},{"x":12,"y":5,"shape":{"type":"Rectangle","position":{"x":20,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":24,"y":64}}},{"x":13,"y":0,"shape":{"type":"Rectangle","position":{"x":0,"y":10},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":64,"y":44}}},{"x":13,"y":1,"shape":{"type":"Rectangle","position":{"x":18,"y":16},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":29,"y":27}}},{"x":13,"y":2,"shape":{"type":"Polygon","position":{"x":0,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","points":[{"x":38,"y":9},{"x":52,"y":19},{"x":24,"y":54},{"x":11,"y":33}]}},{"x":13,"y":3,"shape":{"type":"Rectangle","position":{"x":7,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":50,"y":64}}},{"x":13,"y":4,"shape":{"type":"Rectangle","position":{"x":10,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":44,"y":64}}},{"x":13,"y":5,"shape":{"type":"Rectangle","position":{"x":10,"y":0},"strokeColor":"#25ac","fillColor":"#58c3","size":{"x":44,"y":64}}}],"tags":{},"__engine_data":{}}},"Tilemap":{"Dungeon Map":{"twidth":64,"theight":64,"offset":{"x":0,"y":0},"tileset":"Tileset::Dungeon Tiles","mapData":[{"s":[10,7],"p":[2,1],"r":180},{"s":[11,7],"p":[2,8],"r":180},{"s":[11,7],"p":[3,9],"r":180},{"s":[2,0],"p":[5,3],"r":0},{"s":[3,0],"p":[5,4],"r":270},{"s":[3,0],"p":[5,5],"r":270},{"s":[3,0],"p":[5,6],"r":270},{"s":[2,0],"p":[5,7],"r":270},{"s":[3,0],"p":[6,3],"r":360},{"s":[7,1],"p":[6,4],"r":360},{"s":[0,1],"p":[6,5],"r":540},{"s":[0,1],"p":[6,6],"r":540},{"s":[3,0],"p":[6,7],"r":540},{"s":[3,0],"p":[7,3],"r":360},{"s":[0,1],"p":[7,4],"r":540},{"s":[0,1],"p":[7,5],"r":540},{"s":[0,1],"p":[7,6],"r":540},{"s":[3,0],"p":[7,7],"r":540},{"s":[8,0],"p":[7,10],"r":0},{"s":[8,1],"p":[7,11],"r":180},{"s":[8,1],"p":[7,12],"r":180},{"s":[3,0],"p":[8,3],"r":360},{"s":[0,1],"p":[8,4],"r":540},{"s":[0,1],"p":[8,5],"r":540},{"s":[0,1],"p":[8,6],"r":540},{"s":[4,1],"p":[8,7],"r":540},{"s":[8,1],"p":[8,8],"r":180},{"s":[8,1],"p":[8,9],"r":180},{"s":[8,0],"p":[8,10],"r":180},{"s":[11,7],"p":[8,11],"r":180},{"s":[3,0],"p":[9,3],"r":360},{"s":[0,1],"p":[9,4],"r":540},{"s":[0,1],"p":[9,5],"r":540},{"s":[0,1],"p":[9,6],"r":540},{"s":[3,0],"p":[9,7],"r":540},{"s":[3,0],"p":[10,3],"r":360},{"s":[0,1],"p":[10,4],"r":540},{"s":[7,1],"p":[10,5],"r":360},{"s":[0,1],"p":[10,6],"r":540},{"s":[3,0],"p":[10,7],"r":540},{"s":[11,7],"p":[11,1],"r":180},{"s":[2,0],"p":[11,3],"r":90},{"s":[3,0],"p":[11,4],"r":450},{"s":[3,0],"p":[11,5],"r":450},{"s":[3,0],"p":[11,6],"r":450},{"s":[2,0],"p":[11,7],"r":180},{"s":[11,7],"p":[12,1],"r":180},{"s":[10,7],"p":[12,10],"r":180},{"s":[11,7],"p":[15,8],"r":180},{"s":[10,7],"p":[17,2],"r":180}],"parent":"Screen::Screen","__engine_data":{}}},"Sprite":{"Player":{"position":{"x":512,"y":384},"scale":1,"rotation":0,"image":{"parent":"Tileset::Dungeon Tiles","position":{"x":6,"y":8},"size":{"x":1,"y":1}},"parent":"Screen::Screen","__engine_data":{}}},"Image":{"Player Image":{"path":"https://gameify.vercel.app/sample/tilesheet.png","cropData":{"x":0,"y":0,"width":896,"height":704,"cropped":false},"__engine_data":{}}},"audio.Sound":{},"Animation":{}},"integrations":{},"files":{"main.js":"import {$get} from './_out.js';\r\nimport {gameify} from '/gameify/gameify.js';\r\n\r\nimport * as playerManager from './player.js';\r\n\r\n// MAIN.JS - This is where your game setup logic goes\r\n\r\nconst screen = $get('Screen::')[0];\r\nconst mainScene = $get('Scene::Main Scene');\r\nconst player = $get('Sprite::Player');\r\nconst map = $get('Tilemap::Dungeon Map');\r\n\r\nmainScene.onUpdate((delta) => {\r\n    screen.clear()\r\n\r\n    playerManager.updatePlayer(delta);\r\n});\r\n\r\nmainScene.onDraw(() => {\r\n    map.draw();\r\n    player.draw();\r\n    \r\n    /*// Uncomment this block to draw collision shapes for debugging\r\n    player.shape.draw(screen.context);\r\n    playerManager.forAllTilesNearPlayer((tile) => {\r\n        if (!tile.shape) return;\r\n        tile.shape.draw(screen.context);\r\n    });\r\n    //*/\r\n});","player.js":"import {$get} from './_out.js';\r\nimport {gameify} from '/gameify/gameify.js';\r\n\r\n// PLAYER.JS\r\n\r\nconst screen = $get('Screen::')[0];\r\nconst player = $get('Sprite::Player');\r\n\r\nconst map = $get('Tilemap::Dungeon Map');\r\n\r\n// Set the shape for collisions\r\nplayer.setShape(\r\n    new gameify.shapes.Circle(0, 0, 22),\r\n    32, 32\r\n);\r\n\r\nexport const playerSpeed = 100; // px per second\r\n\r\nexport function forAllTilesNearPlayer(callback) {\r\n    const playerMapPos = map.worldToMap(player.position);\r\n    const tilesToPlayer = 2;\r\n    // playerMapPos + 1 to correct for player position being the top-right\r\n    map.getTilesNear(playerMapPos.x+1, playerMapPos.y+1, tilesToPlayer).forEach(callback);\r\n}\r\n\r\nexport function updatePlayer(delta) {\r\n    let addedVelocity = new gameify.Vector2d(0, 0);\r\n\r\n    // change the added velocity based on what keys are pressed.\r\n    if (screen.keyboard.keyIsPressed(\"W\")) { addedVelocity.y -= 1; }\r\n    if (screen.keyboard.keyIsPressed(\"S\")) { addedVelocity.y += 1; }\r\n    if (screen.keyboard.keyIsPressed(\"D\")) { addedVelocity.x += 1; }\r\n    if (screen.keyboard.keyIsPressed(\"A\")) { addedVelocity.x -= 1; }\r\n\r\n    // Normalize the addedVeclocity vector and multiply by the player speed\r\n    // This way the player goes the same speed even when moving diagonally\r\n    addedVelocity = addedVelocity.getNormalized().multiply(playerSpeed);\r\n\r\n    // Add this frame's movement to the player's speed\r\n    player.velocity = player.velocity.add(addedVelocity);\r\n\r\n    // Grab a copy of the player's location BEFORE we call update()\r\n    const oldPos = player.position.copy();\r\n\r\n    // The update function takes the velocity and moves the player\r\n    player.update(delta);\r\n    \r\n    // CHALLENGE: Change this so that you can slide along walls and other\r\n    // objects at an angle\r\n    forAllTilesNearPlayer((tile) => {\r\n        if(!tile.shape) return; // Don't check tiles without collisions\r\n        // If the player collides, move them back (stop them from moving)\r\n        if (tile.shape.collidesWith(player.shape)) {\r\n            player.position = oldPos;\r\n        }\r\n    });\r\n\r\n    // slow the player down, so they don't go super fast\r\n    player.velocity = player.velocity.multiply(1/delta);\r\n}","style.css":"html, body {\r\n    background: #ddd;\r\n    height: 100%;\r\n    margin: 0;\r\n}\r\ndiv {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n}\r\ncanvas {\r\n    position: relative;\r\n    background: white;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n}","index.html":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title>Gameify Game</title>\r\n        <link rel=\"stylesheet\" href=\"./style.css\">\r\n    </head>\r\n    <body>\r\n        <div>\r\n            <canvas id=\"game-canvas\"></canvas>\r\n        </div>\r\n    <script src=\"./main.js\" type=\"module\"></script>\r\n    </body>\r\n<html>"},"timestamp":1723054778739}